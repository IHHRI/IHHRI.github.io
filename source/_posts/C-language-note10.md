---
title: postsC_language_note10
date: 2021-05-25 21:10:15
tags:
---

## 字符数组

```
char word[] = {'H','e','I','I','O','!'};	
//这不是C语言的字符串，因为不能用字符串的方式做计算
```

|   word[0]   |   H   |
| :---------: | :---: |
| **word[1]** | **e** |
| **word[2]** | **I** |
| **word[3]** | **I** |
| **word[4]** | **O** |
| **word[5]** | **!** |

改为

```
char word[] = {'H','e','I','I','O','!','\0'}; 	//'\0'使word[]数组成为C语言的字符串，可以使用字符串进行运算的字符串
char word[] = {'H','e','I','I','O','!',0};
//两者一样
```

|   word[0]   |   H   |
| :---------: | :---: |
| **word[1]** | **e** |
| **word[2]** | **I** |
| **word[3]** | **I** |
| **word[4]** | **O** |
| **word[5]** | **!** |
| **word[6]** |  \0   |

**字符串**

- 以0（整数0）结尾的一串字符

- 0或'\0'是一样的，但是和'0'不同

- 0标志字符串的结束，但它不是字符串的一部分

- 计算字符串长度的时候不包含这个0

- 字符串以数组的形式存在，以数组或指针的形式访问

- C语言的字符串是以字符数组的形态存在的

- 不能用运算符对字符串做运算

- 通过数组的方式可以遍历字符串

- 唯一特殊的地方是字符串字面量可以用来初始化字符数组

- 以及标准库提供了一系列字符串函数

- 字符串变量

  ```
  char *str = "Hello";	//"Hello"字符串常量
  char word[] = "Hello";
  char line[10] = "Hello";
  ```

  - “Hello”会被编译器变成一个字符数组放在某处，这个数组的长度是6，结尾还有表示结束的0

  - 两个相邻的字符串常量会被自动连接起来

    ![https://github.com/IHHRI/picture](https://raw.githubusercontent.com/IHHRI/picture/main/image-20210525214311826.png)

  ```
  char* s = "Hello,world!";
  ```

  1. **s**是一个指针，初始化为指向一个字符串常量

  2. 由于这个常量所在的地方，所以实际上**s**是**const char* s**，但是由于历史原因，编译器接受不带**const**的写法

  3. 但是试图对s所指的字符串做写入会导致严重后果 

  4. 如果需要修改字符串，应该用数组：

     ```
     char s[] = "Hello，world!"；
     ```

- **char***是字符串？
  1. 字符串可以表达为**char***的形式
  2. **char***不一定是字符串（本意是指向字符的指针，可能指向的是字符的数组，跟**int***一样）
  3. 只有它所指的字符数组有结尾的0，才能说它所指的是字符串

- 指针还是数组？

  ```
  char *str = "Hello";
  // 指针：这个字符串不知道在哪里
  //	用来处理参数和动态分配空间
  
  
  char word[] = "Hello";
  // 数组：这个字符串在这里
  // 作为本地变量空间自动被回收
  ```

  ![https://github.com/IHHRI/picture](https://raw.githubusercontent.com/IHHRI/picture/main/image-20210525221638857.png)

- 字符串赋值

  ```
  char *t = "title";
  char *s;
  s = t;
  //并没有产生新的字符串，只是让指针s指向了t所指的字符串，对s的任何操作就是对t做的
  ```

  
