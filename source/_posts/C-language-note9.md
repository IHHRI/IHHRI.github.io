---
title: C_language_note9
date: 2021-04-18 11:56:40
tags:
---

## 运算符&

- 获得变量的地址，它的操作数必须是变量

  - ```
    int i; printf("%x", &i);
    ```

- 地址的大小是否与int相同取决于编译器

  - ```
    int i; printf("%p", &i);
    ```

    

- ```
  int main()
  {
  	int a[10];
  	
  	printf("%p\n", &a);
   	printf("%p\n", a);
   	printf("%p\n", &a[0]);
   	printf("%p\n", &a[1]);
   	
  	return 0;
  } 
  ```

  **&a，a，&a[0]**地址一样；每个元素之间相差4个字节



## 指针（就是保存地址的变量）

- ```
  int* p = &i;  // p里面的值是i变量的地址
  ```

  ```
  int* p,q;
  int *p,q;
  （这两者的意思是一样的，p是一个指针而q是一个int类型的变量）
  ```

- ***是一个单目运算符，用来访问指针的值所表示的地址上的变量**

  ```
  int k = *p;  //k赋值
  *p = k + 1;  //*p的值被改变
  ```

  - 当地址的值在函数内发生改变，该值会传递到外面

- **在赋值号的左边叫左值，在右边叫右值**
  
  - 左值之所以叫左值，是因为出现在赋值号左边的不是变量，而是值，是表达式计算的结果

- **指针的使用**

  - 交换两个变量的值（函数返回多个值，某些值就只能通过指针返回）

    ```
    void swap(int *pa, int *pb)
    {
    	int t = *pa;
    	*pa = *pb;
    	*pb = t;
    }
    ```

    

  - 传入的参数实际上是需要保存带回的结果的变量

- **指针常见错误**

  - 定义了指针遍历，还没有指向任何变量，就开始使用指针

- **函数参数表中的数组实际上是指针**

  - sizeof(a) == sizeof(int*)

  - 但是可以用数组的运算符[]进行运算

  ```
  int sum(int *ar,int n);  	 与	 int sum(int ar[],int n);	 是等价的
  int sum(int *,int)；    		与	int sum(int [],int);		是等价的
  ```

  - 数组变量本身表达地址

    - ```
      int a[10]; int*p=a; //无需用&取地址
      ```

    - 但是数组的单元表达的是变量，需要用&取地址
    - 数组变量是const的指针，所以不能被赋值

